<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AddressBook</title>
    <style>
        body {
            display: grid;
            grid-template-columns: 30rem auto;
        }
    </style>
</head>

<body>
    <aside>
        <div>
            <p>Name and Surname</p>
            <input type="text" id="namesurname">
        </div>
        <div>
            <p>Phone number</p>
            <input type="number" id="phonenumber">
        </div>
        <div>
            <p>Email</p>
            <input type="email" id="email">
        </div>
        <div>
            <p>Picture</p>
            <input type="email" id="picture">
        </div>
        <div>
            <button id="add">Add</button>
        </div>
    </aside>
    <main id="addressbook">

    </main>
    <template id="person">
        <p>Name and surname: {{namesurname}}</p>
        <p>Phone number: {{phonenumber}}</p>
        {{email}}
        <div>
            <img src="{{picture}}" alt="{{namesurname}} photo">
        </div>

    </template>

    <script>
        //HTML elements
        const inputNameSurname = document.getElementById("namesurname");
        const inputPhoneNumber = document.getElementById("phonenumber");
        const inputEmail = document.getElementById("email");
        const inputPicture = document.getElementById("picture");
        const buttonAdd = document.getElementById("add");
        const displayAddressbook = document.getElementById("addressbook");
        const tplPerson = document.getElementById("person");

        const noPicture = 'https://aikidojo.lv/wp-content/uploads/2019/08/nophoto.jpg';

        //Events
        buttonAdd.onclick = () => {
            //Values
            const namesurname = inputNameSurname.value;
            const phonenumber = inputPhoneNumber.value;
            const email = inputEmail.value;
            let picture = inputPicture.value;
            let html_email = "";

            //Required condition
            if (namesurname.trim().length == 0 || phonenumber.trim().length == 0) {
                alert("Please enter your name, surname and phone number");
                return
            };

            //If no email is entered display empty string
            if (email.trim().length != 0) {
                html_email = `<p>Email: ${email}`;
            }

            //If no picture use noPicture
            if (picture.trim().length == 0) {
                picture = noPicture;
            }

            //Replacing template names
            displayAddressbook.innerHTML += tplPerson.innerHTML
                                            .replace(/{{namesurname}}/g, namesurname)
                                            .replace(/{{phonenumber}}/g, phonenumber)
                                            .replace(/{{email}}/g, email)
                                            .replace(/{{picture}}/g, picture);
            //Clearing inputs
            inputNameSurname.value = "";  
            inputPhoneNumber.value = "";   
            inputEmail.value = "";  
            inputPicture.value = "";                    
        };
        
        
        
    </script>
</body>

</html>